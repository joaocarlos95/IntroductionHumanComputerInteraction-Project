<!DOCTYPE html>
<html>
<head>
	<title>BarISTa</title>

	<link rel="stylesheet" href="Website.css">
	<style type="text/css"> </style>
	<script type="text/javascript">

		var info = 0;

		function Information() {
			if (info == 0) {
				var overlay = document.getElementById("OverlayInformation");
				var popup = document.getElementById("PopupInformation");
				overlay.style.display = "block";
				popup.style.display = "block";
				info = 1;
			}
			else {
				var overlay = document.getElementById("OverlayInformation");
				var popup = document.getElementById("PopupInformation");
				overlay.style.display = "none";
				popup.style.display = "none";		
				info = 0;
			}
		}

		function CarregaPagina(ref) {
			var lista = sessionStorage.getItem("lista").split(",");			
			var idComentarProduto = JSON.parse(sessionStorage.getItem("idComentarProduto"))
			if (ref == "Voltar") {
				lista.splice(lista.length-1, 1);
				var x = lista.length-1;
				if (idComentarProduto != null) {
					idComentarProduto.splice(idComentarProduto.length-2, 2)
					sessionStorage.setItem("idComentarProduto",JSON.stringify(idComentarProduto))
				}
				location.href = lista[x];
			}
			else if (ref == "InserirComentario") {
				var overlay = document.getElementById("OverlayInformation2");
				var popup = document.getElementById("PopupInformation2");
				overlay.style.display = "block";
				popup.style.display = "block";
			}
			else if (ref == 'Musica') {
	    		location.href = 'MenuMusica.html';
				lista.push("MenuMusica.html");
			}
			else if (ref == 'Comida') {
				lista = [lista[0]]
				lista.push("MenuEmenta.html")
				lista.push("MenuComida.html");
	    		location.href = 'MenuComida.html';
			}
			else if (ref == 'Bebida') {
				lista = [lista[0]]
				lista.push("MenuEmenta.html")
				lista.push("MenuBebida.html");
	    		location.href = 'MenuBebida.html';
			}
			else if (ref == 'Escrever') {
				lista = [lista[0]]
				lista.push("MenuSugestoes.html")
				lista.push("MenuInserirComentario.html");
	    		location.href = 'MenuInserirComentario.html';
			}
			else if (ref == 'Ler') {
				lista = [lista[0]]
				lista.push("MenuSugestoes.html")
				lista.push("MenuVerComentarios.html");
	    		location.href = 'MenuVerComentarios.html';
			}
			else if (ref == 'Pessoal') {
				lista = [lista[0]]
				lista.push("MenuMusica.html")
				lista.push("MenuPessoal.html");
	    		location.href = 'MenuPessoal.html';
			}
			else if (ref == 'Geral') {
				lista = [lista[0]]
				lista.push("MenuMusica.html")
				lista.push("MenuGeral.html");
	    		location.href = 'MenuGeral.html';
			}
			else if (ref == 'Home') {
				lista = [lista[0]]
	    		location.href = lista[0];
			}
			else if (ref == 'Ok') {
				lista.push("MenuInserirComentarioProduto.html");
				location.href = "MenuInserirComentarioProduto.html";
			}
			sessionStorage.setItem("lista", lista);
		}
	</script>
</head>
<body style="font-family:sans-serif; text-align: center; margin: 0%">
	<div id="mySidenav" class="sidenav">
		<div style="position: absolute; top: 0%; left: 37%"><h4> Ola Hugo </h4></div>
	  	<a style="position: absolute; right: 5%; top: 1%" class="closebtn menu_home" onclick="closeNav()">&times;</a>
	  	<table style="margin-top: 10%;">
		  	<tr>
			  	<td><div style="transform: rotate(-90deg); margin-left:-40%">Ementa</div></td>
		  		<td><img style="margin-left:-80%; margin-top:10%; cursor:pointer" src="Comida.png" width="115%" onclick="CarregaPagina('Comida')" class="menu_home"></img></td>
				<td><img style="margin-left:-40%; margin-top:10%; cursor:pointer" src="Bebida.png" width="115%" onclick="CarregaPagina('Bebida')" class="menu_home"></img></td>
			</tr>
		  	<tr><td colspan="3" style="border-top: 2px solid #001c2a; padding-bottom: 2%"></td></tr>
		  	<tr><td colspan="3" style="visibility: hidden; padding-bottom: 10%"></td></tr>
		  	<tr>
			  	<td><div style="transform: rotate(-90deg); margin-left:-40%">Musica</div></td>
		  		<td><img style="margin-left:-80%; margin-top:10%; cursor:pointer" src="Pessoal.png" width="115%" onclick="CarregaPagina('Pessoal')" class="menu_home"></img></td>
				<td><img style="margin-left:-40%; margin-top:10%; cursor:pointer" src="Geral.png" width="115%" onclick="CarregaPagina('Geral')" class="menu_home"></img></td>
			</tr>
			<tr><td colspan="3" style="border-top: 2px solid #001c2a; padding-bottom: 2%"></td></tr>
		  	<tr><td colspan="3" style="visibility: hidden; padding-bottom: 10%"></td></tr>
			<tr>
			  	<td><div style="transform: rotate(-90deg); margin-left:-40%">Sugestoes</div></td>
		  		<td><img style="margin-left:-80%; margin-top:10%; cursor:pointer" src="Escrever.png" width="115%" onclick="CarregaPagina('Escrever')" class="menu_home"></img></td>
				<td><img style="margin-left:-40%; margin-top:10%; cursor:pointer" src="Ler.png" width="115%" onclick="CarregaPagina('Ler')" class="menu_home"></img></td>
			</tr>
			<tr><td colspan="3" style="border-top: 2px solid #001c2a; padding-bottom: 2%"></td></tr>
			<tr class="menu_home">
				<td> <img style="padding-top:20%; margin-left:60%; cursor:pointer;" src="HomeButton.png" width="60%" onclick="CarregaPagina('Home')"> </img></td>
				<td style="padding-top:8%; font-size:145%; padding-left:10%; color:#E6E6E6; cursor:pointer;" onclick="CarregaPagina('Home')"> HOME </td>
			</tr>
		</table>
	</div>
	<div id="main">
		<div><img id="ImagemFundo" style="position:fixed; opacity:0.20;" width="50%" height="100%"></img></div>
		<div style="padding-top: 8.5%"><h1 id="produtoXYZ"> </h1></div>
		<div><img onclick="Information()" id="CloseButton1" class="InfoButton menu_home" src="HelpButton.png" style="cursor:pointer;" class="menu_home"></img></div>
		<div id="OverlayInformation2"></div>
		<div id="OverlayInformation1" onclick="closeNav()"></div>
		<div id="OverlayInformation" onclick="Information()"></div>
		<div style="margin: 0 auto; height: 38%" id="PopupInformation">
			<h2 style="padding-top: 2%" id="Ola123"></h2>
			<ul id="informacaoPopup" style="text-align: left; padding-right: 5%; padding-left: 7.5%">
				<li> Neste menu poder&aacute; ver todos os coment&aacute;rios a este produto. Estes est&atilde;o ordenados pelos mais recentes primeiro.</li>
				<li> Tamb&eacute;m pode filtrar os coment&aacute;rios pelo n&uacute;mero de estrelas, tendo que seleccionar a respectiva op&ccedil;&atilde;o no bot&atilde;o situado no canto superior direito, por cima da tabela. </li>
				<li> Para adicionar um coment&aacute;rio ou classifica&ccedil;&atilde;o, carregue no bot&atilde;o "Novo" no canto inferior esquerdo.</li>
				<li> Para remover um coment&aacute;rio carregue no bot&atilde;o "Remover" situado na &uacute;ltima coluna da tabela, do respectivo coment&aacute;rio.</li>
			</ul>
			<div><img onclick="Information()" id="CloseButton1" class="CloseButton menu_home" src="CloseIcon.png" style="cursor:pointer;"></img></div>
			<div onclick="RemoverComentario('Nao')" style="cursor:pointer;"><h3 style="left: 35%" id="OkNao" class="BotaoOknOk menu_home"> N&atilde;o </h3></div>
			<div onclick="RemoverComentario('Sim')" style="cursor:pointer;"><h3 style="right: 35%" id="OkSim" class="BotaoOknOk menu_home"> Sim </h3></div>
		</div>
		<div style="margin: 0 auto; height: 30%" id="PopupInformation2">
			<h2 style="padding-top: 2%"> Informa&ccedil;&atilde;o </h2>
			<h4> Ao classificar este produto com 4 ou 5 estrelas, ir&aacute; receber um b&oacute;nus de gostos, ou seja, poder&aacute; colocar novamente gosto nas m&uacute;sicas. </h4>
			<div onclick="CarregaPagina('Ok')"><h4 style="left: 45%; bottom:-2%; cursor:pointer; display:block" class="BotaoOknOk menu_home"> Ok </h4></div>
		</div>
		<div style="margin: 0 auto; height: 45%" id="PopupInformation5">
			<h2 style="padding-top: 2%"> Remover Coment&aacute;rio </h2>
			<ul id="informacaoOk" style="text-align: left; padding-right: 5%; padding-left: 7.5%;">
				<li> Tem a certeza que pretende remover o coment&aacute;rio? </li>
				<div style="width: 100%; height: 130px; overflow-x:hidden; overflow-y: scroll; margin-top:2%;"> <h5 id="comentarioXXX"></h5> </div>
			</ul>
			<div onclick="RemoverComentario('Nao')"><h3 style="left: 35%; bottom:-2%; cursor:pointer; display:block" id="OkNao" class="BotaoOknOk menu_home"> N&atilde;o </h3></div>
			<div onclick="RemoverComentario('Sim')"><h3 style="right: 35%; bottom:-2%; cursor:pointer; display:block;" id="OkSim" class="BotaoOknOk menu_home"> Sim </h3></div>
		</div>
		<div onclick="CarregaPagina('Voltar')" class="BotaoVoltar menu_home" style="cursor:pointer;"><h2> Voltar </h2></div>
		<div onclick="CarregaPagina('InserirComentario')" class="BotaoNovo menu_home" style="cursor:pointer;"><h2> Novo </h2></div>
		<div class="qwerty">
			<h4 style="margin-top: 1.3%"> </h4>
			<img style="position: absolute; top:1%; left:95.35%; cursor:pointer;" src="Musica.png" width="4.75%" onclick="CarregaPagina('Musica')" class="menu_home">
		</div>
		
		<div class="tabelaComentario" style="position:absolute; left:3%; top:30%; width:90%; border-top:5px solid grey;">
		
			<center><div class="tabelaComentario1" style="width: 85%; margin-top: 3%">
				<div class="tabelaProdutos" id="divComentarios" style="width: 95%" id="listaProdutos">
			<form style="position: absolute; top: 3%; right: 10.3%; font-size: 120%; color:#555555;font-weight: bold" action="action_page.php">
				Filtrar coment&aacute;rios por classifica&ccedil;&atilde;o:
				<select style="background-color:  #EBEBEB; color:#555555; font-size: 100%" name="Stars" id="Stars">
					<option value="TodasEstrelas"> Todos </option>
				    <option value="1Estrelas"> &#x2605;&#9734;&#9734;&#9734;&#9734; </option>
				    <option value="2Estrelas"> &#9733;&#9733;&#9734;&#9734;&#9734; </option>
				    <option value="3Estrelas"> &#9733;&#9733;&#9733;&#9734;&#9734; </option>
				    <option value="4Estrelas"> &#9733;&#9733;&#9733;&#9733;&#9734; </option>
				    <option value="5Estrelas"> &#9733;&#9733;&#9733;&#9733;&#9733; </option>
				</select>
			</form>
				<script id="tabelaComentarios" type="text/template">
					<table class="tabela" style="display: none">
						<tr>
							<td class="Predefinido" style="font-size: 64%;"> Nome </td>
							<td class="Inserir" style="font-size: 52%;"></td>
							<td class="RemoverButton" id="Data" class="Inserir" style="font-size: 30%; text-align: center" width="10%"> <div></div> </td>
						</tr>
						<tr>
							<td width="17.5%" class="Predefinido" style="font-size: 64%;"> Classifica&ccedil;&atilde;o </td>
							<td class="Inserir" style="font-size: 52%;"></td>
							<td class="RemoverButton" width="10%" class="Inserir" style="font-size: 20%;"></td>
						</tr>
						<tr>
							<td rowspan="2" class="Predefinido" style="font-size: 64%;"> Coment&aacute;rio </td>
							<td rowspan="2" class="Inserir" style="font-size: 52%;"> <div class="myBox1"> </div></td>
							<td class="RemoverButton" width="10%" class="Inserir" style="font-size: 20%;"></td>
						</tr>
						<tr>
							<td class="EditarButton" width="10%" class="Inserir" style="font-size: 20%;"></td>
						</tr>
					</table>
				</script>
				<script id="tabelaComentarios1" type="text/template">
					<table class="tabela" style="display: none">
						<tr>
							<td class="Predefinido" style="font-size: 64%;"> Nome </td>
							<td class="Inserir" style="font-size: 52%;"></td>
							<td class="RemoverButton" id="Data" class="Inserir" style="font-size: 30%; text-align: center" width="10%"> <div></div> </td>
						</tr>
						<tr>
							<td width="17.5%" class="Predefinido" style="font-size: 64%;"> Classifica&ccedil;&atilde;o </td>
							<td class="Inserir" style="font-size: 52%;"></td>
							<td class="RemoverButton" width="10%" class="Inserir" style="font-size: 20%;"></td>
						</tr>
						<tr>
							<td rowspan="2" class="Predefinido" style="font-size: 64%;"> Coment&aacute;rio </td>
							<td rowspan="2" class="Inserir" style="font-size: 52%;"> <div class="myBox1"> </div></td>
							<td class="EditarButton"> <img img class="EditarButton1 menu_home" src="EditarButton.png" width="100%" style="vertical-align:middle; cursor:pointer"> </td>
						</tr>
						<tr>
							<td class="RemoverButton"> <img class="RemoverButton1 menu_home" src="RemoverButton.png" width="100%" style="vertical-align:middle; cursor:pointer"> </td>
						</tr>
					</table>
				</script>
				</div>
			</div></center>
		</div>
		<span style="position:absolute; top: 1%; left: 2%; font-size:450%; cursor:pointer; color:#3F3E3E;" onclick="openNav()" class="menu_home">&equiv;</span>
	</div>
	<script>
		function openNav() {
		    document.getElementById("mySidenav").style.width = "22%";
		    setTimeout(function() {
			    document.getElementById("OverlayInformation1").style.display = "block";
	   		    document.getElementById("OverlayInformation1").style.left = "22%";
		    }, 650);
		}

		function closeNav() {
		    document.getElementById("mySidenav").style.width = "0%";
		    document.getElementById("OverlayInformation1").style.display = "none";
   		    document.getElementById("OverlayInformation1").style.left = "0%";
		}
	</script>
	<script src="jquery.min.js"></script>
	<script type="text/javascript">

		var variavel1;
		var variavel2;
		var variavel3;
		var identificador = 0;
		var listaProdutos  = JSON.parse(sessionStorage.getItem("listaProdutos"));
		var idComentarProduto = JSON.parse(sessionStorage.getItem("idComentarProduto"));
		var produto = idComentarProduto[idComentarProduto.length-1]+".png";
		$("#ImagemFundo").attr('src', produto.toString());
		$("#Ola123").html("Coment&aacute;rios " + idComentarProduto[idComentarProduto.length-1].replace(/([A-Z])/g, ' $1').trim())

		for (i=0; i < 4; i+=2) {
			if (listaProdutos[i] == idComentarProduto[idComentarProduto.length-2]) {
				for (j=0; j < listaProdutos[i+1].length; j+=2) {
					if (listaProdutos[i+1][j] == idComentarProduto[idComentarProduto.length-1]) {
						$("#produtoXYZ").html(listaProdutos[i+1][j].replace(/([A-Z])/g, ' $1').trim())
						for (l=0; l < listaProdutos[i+1][j+1].length-2; l+=2) {
							if (listaProdutos[i+1][j+1][l+1].nome != "Hugo") {
								var tabela = $($("#tabelaComentarios").html()).appendTo("#divComentarios");
								tabela.find("td").eq(1).html(listaProdutos[i+1][j+1][l+1].nome);
								if (listaProdutos[i+1][j+1][l+1].classificacao == 1) {
									tabela.find("td").eq(4).html("<img id='estrelaComentarProduto' src='1Estrelas.png'/>"); }
								else if (listaProdutos[i+1][j+1][l+1].classificacao == 2) {
									tabela.find("td").eq(4).html("<img id='estrelaComentarProduto' src='2Estrelas.png'/>"); }
								else if (listaProdutos[i+1][j+1][l+1].classificacao == 3) {
									tabela.find("td").eq(4).html("<img id='estrelaComentarProduto' src='3Estrelas.png'/>"); }
								else if (listaProdutos[i+1][j+1][l+1].classificacao == 4) {
									tabela.find("td").eq(4).html("<img id='estrelaComentarProduto' src='4Estrelas.png'/>"); }
								else if (listaProdutos[i+1][j+1][l+1].classificacao == 5) {
									tabela.find("td").eq(4).html("<img id='estrelaComentarProduto' src='5Estrelas.png'/>"); }
								tabela.find("td").eq(7).children("div").html(listaProdutos[i+1][j+1][l+1].texto);
								tabela.find("td").eq(2).children("div").html(listaProdutos[i+1][j+1][l+1].data);
								tabela.attr("id", identificador);
							}
							else {
								var tabela = $($("#tabelaComentarios1").html()).appendTo("#divComentarios");
								tabela.find("td").eq(1).html(listaProdutos[i+1][j+1][l+1].nome);
								if (listaProdutos[i+1][j+1][l+1].classificacao == 1) {
									tabela.find("td").eq(4).html("<img id='estrelaComentarProduto' src='1Estrelas.png'/>"); }
								else if (listaProdutos[i+1][j+1][l+1].classificacao == 2) {
									tabela.find("td").eq(4).html("<img id='estrelaComentarProduto' src='2Estrelas.png'/>"); }
								else if (listaProdutos[i+1][j+1][l+1].classificacao == 3) {
									tabela.find("td").eq(4).html("<img id='estrelaComentarProduto' src='3Estrelas.png'/>"); }
								else if (listaProdutos[i+1][j+1][l+1].classificacao == 4) {
									tabela.find("td").eq(4).html("<img id='estrelaComentarProduto' src='4Estrelas.png'/>"); }
								else if (listaProdutos[i+1][j+1][l+1].classificacao == 5) {
									tabela.find("td").eq(4).html("<img id='estrelaComentarProduto' src='5Estrelas.png'/>"); }
								tabela.find("td").eq(7).children("div").html(listaProdutos[i+1][j+1][l+1].texto);
								tabela.find("td").eq(2).children("div").html(listaProdutos[i+1][j+1][l+1].data);
								tabela.attr("id", identificador);
							}
							identificador++;
						}
					}
				}
			}
		}
		$("table").filter(".tabela").css("display", "block");

		$('.RemoverButton1').click(function() {
    		
    		x = this.closest('table').id;
    		
    		tabela = $("body").find('#'+x);
			nome = tabela.find("td").eq(1).html();
			comentario = tabela.find("td").eq(7).children("div").html();	
			var idComentarProduto = JSON.parse(sessionStorage.getItem("idComentarProduto"))
			var listaProdutos = JSON.parse(sessionStorage.getItem("listaProdutos"));

			for (i=0; i < 4; i+=2) {
				if (listaProdutos[i] == idComentarProduto[idComentarProduto.length-2]) {
					for (j=0; j < listaProdutos[i+1].length; j+=2) {
						if (listaProdutos[i+1][j] == idComentarProduto[idComentarProduto.length-1]) {
							for (l=0; l < listaProdutos[i+1][j+1].length-2; l+=2) {
								if (listaProdutos[i+1][j+1][l+1].nome == nome) {
									if (listaProdutos[i+1][j+1][l+1].texto == comentario) {
										variavel1 = i+1;
										variavel2 = j+1;
										variavel3 = l;
										$("#comentarioXXX").html(comentario)
										var overlay = document.getElementById("OverlayInformation2");
									    var popup = document.getElementById("PopupInformation5");
									    overlay.style.display = "block";
									    popup.style.display = "block";
									}
								}
							}
						}
					}
				}
			}
		});

		$('.EditarButton1').click(function() {
    		x = this.closest('table').id;
			tabela = $("body").find('#'+x);
			nome = tabela.find("td").eq(1).html();
			data = tabela.find("td").eq(2).children().html()
			classificacao = tabela.find("td").eq(4).children().attr("src")
			comentario = tabela.find("td").eq(7).children("div").html();	
			var editarProduto = [nome, classificacao, comentario, data]
			sessionStorage.setItem("editarProduto",JSON.stringify(editarProduto));
			var lista = sessionStorage.getItem("lista").split(",");			
			lista.push("MenuInserirComentarioProduto.html");
			location.href = "MenuInserirComentarioProduto.html";
			sessionStorage.setItem("lista", lista);
		});

		$('select').change(function() {
			
			$("table").filter(".tabela").css("display", "none");
		    qwerty = $('#Stars option:selected').val();
			var IDs = [];
			$("#divComentarios").find("table").each(function(){ IDs.push(this.id); });
		    console.log(IDs);

		    if (qwerty == "TodasEstrelas") {
		    	$("table").filter(".tabela").css("display", "block");
		    }
		    else if (qwerty == "1Estrelas") {
		    	for (identificadores in IDs) {
		    		console.log("AAA " + $("#" + identificadores).find("td").eq(4).html())
		    		console.log("BBB " + "<img id=\"estrelaComentarProduto\" src=\"1Estrelas.png\">")
		    		if ($("#" + identificadores).find("td").eq(4).html() == "<img id=\"estrelaComentarProduto\" src=\"1Estrelas.png\">") {
		    			$("table").filter("#" + identificadores).css("display", "block");
		    		}
		    	}
		    }
		    else if (qwerty == "2Estrelas") {
		    	for (identificadores in IDs) {
		    		console.log("AAA " + $("#" + identificadores).find("td").eq(4).html())
		    		console.log("BBB " + "<img id=\"estrelaComentarProduto\" src=\"1Estrelas.png\">")
		    		if ($("#" + identificadores).find("td").eq(4).html() == "<img id=\"estrelaComentarProduto\" src=\"2Estrelas.png\">") {
		    			$("table").filter("#" + identificadores).css("display", "block");
		    		}
		    	}
		    }
		    else if (qwerty == "3Estrelas") {
		    	for (identificadores in IDs) {
		    		console.log("AAA " + $("#" + identificadores).find("td").eq(4).html())
		    		console.log("BBB " + "<img id=\"estrelaComentarProduto\" src=\"1Estrelas.png\">")
		    		if ($("#" + identificadores).find("td").eq(4).html() == "<img id=\"estrelaComentarProduto\" src=\"3Estrelas.png\">") {
		    			$("table").filter("#" + identificadores).css("display", "block");
		    		}
		    	}
		    }
		    else if (qwerty == "4Estrelas") {
		    	for (identificadores in IDs) {
		    		console.log("AAA " + $("#" + identificadores).find("td").eq(4).html())
		    		console.log("BBB " + "<img id=\"estrelaComentarProduto\" src=\"1Estrelas.png\">")
		    		if ($("#" + identificadores).find("td").eq(4).html() == "<img id=\"estrelaComentarProduto\" src=\"4Estrelas.png\">") {
		    			$("table").filter("#" + identificadores).css("display", "block");
		    		}
		    	}
		    }
		    else if (qwerty == "5Estrelas") {
		    	for (identificadores in IDs) {
		    		console.log("AAA " + $("#" + identificadores).find("td").eq(4).html())
		    		console.log("BBB " + "<img id=\"estrelaComentarProduto\" src=\"1Estrelas.png\">")
		    		if ($("#" + identificadores).find("td").eq(4).html() == "<img id=\"estrelaComentarProduto\" src=\"5Estrelas.png\">") {
		    			$("table").filter("#" + identificadores).css("display", "block");
		    		}
		    	}
		    }
		    		    	
		});

		function RemoverComentario(ref) {
			
			if (ref == "Sim") {

				var MediaAnterior = listaProdutos[variavel1][variavel2][listaProdutos[variavel1][variavel2].length-1];
				var Numeroutilizadores = ((listaProdutos[variavel1][variavel2].length)-2)/2;
				var ClassicacaoAnterior = MediaAnterior*Numeroutilizadores;
				var estrelas = listaProdutos[variavel1][variavel2][variavel3+1].classificacao;
				var ClassificacaoNova = ClassicacaoAnterior-parseInt(estrelas)
				listaProdutos[variavel1][variavel2][listaProdutos[variavel1][variavel2].length-1] = ClassificacaoNova/(Numeroutilizadores-1)
	
				listaProdutos[variavel1][variavel2].splice(variavel3, 2);
				sessionStorage.setItem("listaProdutos",JSON.stringify(listaProdutos));
				location.href = "MenuVerComentariosProdutos.html";
			}
			else {
				var overlay = document.getElementById("OverlayInformation2");
			    var popup = document.getElementById("PopupInformation5");
			    overlay.style.display = "none";
			    popup.style.display = "none";
			}
		}

	</script>
	<script src="jquery.min.js"></script>
	<script type="text/javascript">
		
  		var listaGeral = JSON.parse(sessionStorage.getItem("listaGeral"));
		if (listaGeral[0].gostos == 0) {
			$(".qwerty").children().html(listaGeral[0].nome + " - " + listaGeral[0].album + " - " + listaGeral[0].artista)
		}
		else {
			listaGeral.sort(listaSort('gostos'));
			$(".qwerty").children().html(listaGeral[0].nome + " - " + listaGeral[0].album + " - " + listaGeral[0].artista)
		}
		sessionStorage.setItem("listaGeral",JSON.stringify(listaGeral));

		function listaSort(ref) {
			return function(var1, var2) {
				return (var1[ref] > var2[ref]) ? -1:(var1[ref] < var2[ref] ? 1:0);
			}
		}

		setInterval(function() {
			listaGeral = JSON.parse(sessionStorage.getItem("listaGeral"));
			listaGeral[0].gostos = 0;
			listaGeral[0].botao = "LikeButtonUncheck.png";
			listaGeral.push(listaGeral[0]);
			listaGeral.shift();
			sessionStorage.setItem("listaGeral",JSON.stringify(listaGeral));
			if (listaGeral[0].gostos == 0) {
				$(".qwerty").children().html(listaGeral[0].nome + " - " + listaGeral[0].album + " - " + listaGeral[0].artista)
			}
			else {
				listaGeral.sort(listaSort('gostos'));
				$(".qwerty").children().html(listaGeral[0].nome + " - " + listaGeral[0].album + " - " + listaGeral[0].artista)
			}
			sessionStorage.setItem("listaGeral",JSON.stringify(listaGeral));

			function listaSort(ref) {
				return function(var1, var2) {
					return (var1[ref] > var2[ref]) ? -1:(var1[ref] < var2[ref] ? 1:0);
				}
			}
		}, 5000);
	</script>
</body>
</html>